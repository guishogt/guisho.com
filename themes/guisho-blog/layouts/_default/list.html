{{ define "main" }}
<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
  <div class="flex flex-col lg:flex-row gap-12">
    <!-- Main Content -->
    <div class="lg:w-2/3">
      <!-- Page Title -->
      <div class="mb-10">
        <h1 class="text-5xl md:text-6xl font-bold text-dark-text font-display mb-4">
          {{ if .Data.Singular }}
          <span class="text-primary">{{ .Data.Singular | title }}:</span>
          {{ end }}
          {{ .Title }}
        </h1>
        {{ with .Description }}
        <p class="text-xl text-dark-text/70 font-sans">{{ . }}</p>
        {{ end }}
        <p class="text-dark-text/50 mt-2 font-sans">{{ len .Pages }} {{ if eq (len .Pages) 1 }}post{{ else }}posts{{ end }}</p>
      </div>

      <div class="space-y-10">
        {{ $paginator := .Paginate .Pages 10 }}
        {{ range $paginator.Pages }}
        {{ partial "article-card.html" . }}
        {{ end }}
      </div>

      <!-- Pagination -->
      {{ if gt $paginator.TotalPages 1 }}
      <div class="flex justify-center items-center gap-4 py-12">
        {{ if $paginator.HasPrev }}
        <a href="{{ $paginator.Prev.URL }}" class="px-6 py-3 bg-primary text-warm-bg font-bold rounded-xl hover:bg-primary/80 transition-all font-display text-lg flex items-center gap-2">
          <span aria-hidden="true">←</span>
          Newer
        </a>
        {{ end }}
        <span class="text-dark-text/60 font-display text-lg">Page {{ $paginator.PageNumber }} of {{ $paginator.TotalPages }}</span>
        {{ if $paginator.HasNext }}
        <a href="{{ $paginator.Next.URL }}" class="px-6 py-3 bg-primary text-warm-bg font-bold rounded-xl hover:bg-primary/80 transition-all font-display text-lg flex items-center gap-2">
          Older
          <span aria-hidden="true">→</span>
        </a>
        {{ end }}
      </div>
      {{ end }}
    </div>

    <!-- Sidebar -->
    {{ partial "sidebar.html" . }}
  </div>
</div>
{{ end }}
